<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>
    A. Single Core Computing
  </title>

	<!-- custom stylesheet -->
  <link rel="stylesheet" href="/wrench-pedagogic-modules/css/main.css">
  <link
    rel="canonical"
    href="http://localhost:4000/wrench-pedagogic-modules/pedagogic_modules/single_core_computing/"
  />
  <link
    href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,700,800,600|Montserrat"
    rel="stylesheet"
    type="text/css"
  />
  <link
    href="https://fonts.googleapis.com/css?family=Muli:400,300"
    rel="stylesheet"
    type="text/css"
  />

  <!-- CSS -->

  <link rel="stylesheet" href="/wrench-pedagogic-modules/css/poole.css">
  <link rel="stylesheet" href="/wrench-pedagogic-modules/css/lanyon.css">
  <link rel="stylesheet" href="/wrench-pedagogic-modules/css/syntax.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">

  <!-- Bootstrap -->
  <link
    rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
    crossorigin="anonymous"
  />
  <script
    src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"
  ></script>
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"
  ></script>
  <script
    src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"
  ></script>
</head>


  <body class="theme-base-09">
    <div class="fluid-container">
      <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>WRENCH Pedagogic Modules.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/wrench-pedagogic-modules/">Home</a>

    

    
    
      
        
          <a class="sidebar-nav-item" href=" /wrench-pedagogic-modules/pedagogic_modules/IO_lesson/">I. Input/Output Effects</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href=" /wrench-pedagogic-modules/pedagogic_modules/multi_core_computing/">B. Multi-core Computing</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href=" /wrench-pedagogic-modules/pedagogic_modules/networking_fundamentals/">C. Networking Fundamentals</a>
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item active" href=" /wrench-pedagogic-modules/pedagogic_modules/single_core_computing/">A. Single Core Computing</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href=" /wrench-pedagogic-modules/pedagogic_modules/workflow_execution_data_locality/">F. Workflows and Data Locality</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href=" /wrench-pedagogic-modules/pedagogic_modules/workflow_execution_fundamentals/">E. Workflow Execution Fundamentals</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href=" /wrench-pedagogic-modules/pedagogic_modules/workflow_execution_parallelism/">G. Workflows and Parallelism</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href=" /wrench-pedagogic-modules/pedagogic_modules/workflow_execution_resource_provisioning/">H. Workflows and Resource Provisioning</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href=" /wrench-pedagogic-modules/pedagogic_modules/workflow_fundamentals/">D. Workflow Fundamentals</a>
        
      
    

    
    <a class="sidebar-nav-item active" href=" /wrench-pedagogic-modules/glossary">Glossary</a>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2019. All rights reserved.
    </p>
  </div>
</div>
      <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
        content to avoid any CSS collisions with our real content. -->
        <div class="wrap">
          <div class="masthead">
            <div class="container">
              <label for="sidebar-checkbox" class="sidebar-toggle"></label>
              <nav class="navbar navbar-expand header-nav">
  <div class="iconBox py-3 mx-3">
    <a href="/wrench-pedagogic-modules/"><img src="/wrench-pedagogic-modules/assets/wrench_logo.png" alt="wrench_logo" class="iconImg"></a>
  </div>
  <ul>
    <li class="py-3"><a class="headerNav p-3" href="/wrench-pedagogic-modules/home">HOME</a></li>
    <li class="py-3">
      <div class="dropdown show btn-group">
        <a class="headerNav p-3 dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" href="/wrench-pedagogic-modules/courses">COURSES</a>
        <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
          <a class="dropdown-item" href="/wrench-pedagogic-modules/single_core_computing">A. Single Core Computing</a>
        </div>
      </div>          
    </li>
    <li class="py-3"><a class="headerNav p-3" href="/wrench-pedagogic-modules/glossary">GLOSSARY</a></li>
    <li class="py-3">
        <div class="dropdown show btn-group">
          <a class="headerNav p-3 dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" href="/wrench-pedagogic-modules/setup">SETUP</a>
          <div class="dropdown-menu">
              <a class="dropdown-item" href="#">Software Requirement</a>
              <a class="dropdown-item" href="#">Introduction</a>
          </div>
        </div>
    </li>			
  </ul>
</nav>


            <h3 class="masthead-title">
              <a href="/wrench-pedagogic-modules/" title="Home">
                  WRENCH PEDAGOGIC MODULES
              </a>
              <small>Distributed Computing Courseware</small>
            </h3>
          </div>
        </div>
  
        <div class="container content">
          <h2 class="mx-auto">A. Single Core Computing</h2>

<!-- include sidebar -->
<div>
    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>WRENCH Pedagogic Modules.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/wrench-pedagogic-modules/">Home</a>

    

    
    
      
        
          <a class="sidebar-nav-item" href=" /wrench-pedagogic-modules/pedagogic_modules/IO_lesson/">I. Input/Output Effects</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href=" /wrench-pedagogic-modules/pedagogic_modules/multi_core_computing/">B. Multi-core Computing</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href=" /wrench-pedagogic-modules/pedagogic_modules/networking_fundamentals/">C. Networking Fundamentals</a>
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item active" href=" /wrench-pedagogic-modules/pedagogic_modules/single_core_computing/">A. Single Core Computing</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href=" /wrench-pedagogic-modules/pedagogic_modules/workflow_execution_data_locality/">F. Workflows and Data Locality</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href=" /wrench-pedagogic-modules/pedagogic_modules/workflow_execution_fundamentals/">E. Workflow Execution Fundamentals</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href=" /wrench-pedagogic-modules/pedagogic_modules/workflow_execution_parallelism/">G. Workflows and Parallelism</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href=" /wrench-pedagogic-modules/pedagogic_modules/workflow_execution_resource_provisioning/">H. Workflows and Resource Provisioning</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href=" /wrench-pedagogic-modules/pedagogic_modules/workflow_fundamentals/">D. Workflow Fundamentals</a>
        
      
    

    
    <a class="sidebar-nav-item active" href=" /wrench-pedagogic-modules/glossary">Glossary</a>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2019. All rights reserved.
    </p>
  </div>
</div>
</div>
<div>
    <p>The goal of this module is to provide you with basic knowledge about
sequential computing (i.e., running a program on a single core).  There
is a lot of complexity under the cover, which belongs in Computer Architecture 
and Operating Systems textbooks. We take a very high-level approach,
with a main focus on performance.</p>

<p>Go through the tabs below in sequence…</p>

<div class="ui pointing secondary menu">
  <a class="item " data-tab="first">Work and Speed</a>
  <a class="item " data-tab="second">Time Sharing</a>
  <a class="item " data-tab="third">Memory</a>
</div>

<div class="ui tab segment active" data-tab="first">

  <h4 id="learning-objectives">Learning objectives:</h4>

  <ul>
    <li>
      <p>Understand the concepts of <em>work</em> and of <em>compute speed</em>;</p>
    </li>
    <li>
      <p>Be familiar with Flop as a measure of work and with Flop/sec
as a measure of compute speed;</p>
    </li>
    <li>
      <p>Understand the simple relationship between program execution time, 
work, and compute speed.</p>
    </li>
  </ul>

  <hr />

  <h3 id="measures-of-work-and-compute-speed">Measures of Work and Compute Speed</h3>

  <p>In these pedagogic modules we rarely consider programs that are
interactive, i.e., that react based on real-time user input via the
keyboard or the mouse. A text editor would fall in this category. Instead,
we almost always consider programs that have some amount of computation,
or <em>work</em>, to perform and then terminate. An example would be a program
that mines a bitcoin.</p>

  <p>The simplest model of performance when executing a non-interactive program
on a core of a computer is to assume that the computer delivers constant
<em>compute speed</em>, which is measured by the quantity of work performed per
time unit. For instance, a program with 50 units of work would run in 100
seconds on a core with a speed of 2 units of work per second.
 This last number is called the program’s
<em>execution time</em>.</p>

  <p>Generalizing the above example, for a given amount of work to
perform there is a linear relationship between the program’s execution
time and the speed of the core on which it is executed:</p>

  <script type="math/tex; mode=display">% <![CDATA[
\begin{align}
\text{execution time} & = \frac{\text{work}}{\text{compute speed}}\;.
\end{align} %]]></script>

  <p>There are many options for choosing an appropriate way to quantify work.
One possibility is to use a measure that is specific to what the program
does. For instance, if the program renders movie frames, a good measure of
work would be the number of frames to render.  One would then want to measure a
core’s speed in terms of the number of frames that can be rendered per second
(assuming all frames take the same compute time).</p>

  <p>Another possibility is to use a more generic measure, for instance, the
number of instructions.  The work of a program would then be measured by
its number of instructions (e.g., the number of assembly instructions the
program performs) and the speed of a core would be in number of
instructions per second. This approach is known to have problems, as
instructions are not all equal, and especially across different families of
processors. Therefore, a processor that delivers fewer instructions per
seconds than another could actually be prefered for running some program.</p>

  <h3 id="flop-and-flopsec">Flop and Flop/sec</h3>

  <p>It turns out that the question of modeling/predicting how fast a particular
program will run on a particular core based on a single measure of work and
speed is fraught with peril (the only way to be sure if to actually run the
program!).</p>

  <p>Nevertheless, in these pedagogic modules, unless specified
otherwise, we use a simple measure of work: the number of floating-point
operations, or <strong>Flop</strong>, that the program performs.  We thus measure the
speed of a core in Flop/sec, which is commonly used in the field of
high-performance scientific computing.</p>

  <p>Like any single measure of work, the Flop count is imperfect (e.g.,
programs do non-floating-point computations, floating-point operations are
not all the same).  Fortunately, all the concepts we learn in these
pedagogic modules are agnostic to the way in which we measure work. And so
we just pick Flop counts to be consistent throughout.</p>

  <p>Say a program that performs 100 TFlop (“100 TeraFlop”) is executed 
on a core with speed 35 GFlop/sec (“35 GigaFlop per second”). The
program’s execution time would then be:</p>

  <script type="math/tex; mode=display">% <![CDATA[
\begin{align}
 \text{execution time} & = \frac{100 \times 10^{12}\; \text{Flop}}{25 \times 10^{9}\; \text{Flop/sec}}\\
   & \simeq 2,857.14\; \text{sec}
\end{align} %]]></script>

  <p>If a program that performs 12 GFlop runs in 5 seconds on a core, then the speed of this core in MFlop/sec (“MegaFlop per second”) is:</p>

  <script type="math/tex; mode=display">% <![CDATA[
\begin{align}
 \text{speed} & = \frac{12 \times 10^{9}\; \text{Flop}}{5 \; \text{sec}} \times \frac{1}{10^{6}}\\
       & = 2,400 \; \text{MFlop/sec}
\end{align} %]]></script>

  <hr />

  <h4 id="practice-questions">Practice Questions</h4>

  <p>To make sure the above is crystal clear (and that you know your units!), try to answer the following questions:</p>

  <p><strong>[A.p1.1]</strong> You have to run a program that performs 4000 GFlop, and your
core computes at speed 30 TFlop/sec. How long will the program run for in seconds?</p>

  <div class="ui accordion fluid">
  <div class="title">
    <i class="dropdown icon"></i>
    (click to see answer)
  </div>
  <div class="ui segment content">
      <p><script type="math/tex">\frac{4 \;\text{TFlop}}{30\; \text{TFlop/sec}} \simeq 0.13\; \text{sec}</script></p>
    </div>
</div>

  <p> </p>

  <p><strong>[A.p1.2]</strong> A program just ran in 1640 sec on a core with speed 2 TFlop/sec, 
how many MFlop does the program perform?</p>
  <div class="ui accordion fluid">
  <div class=" title">
    <i class="dropdown icon"></i>
    (click to see answer)
  </div>
  <div class="ui segment content">
      <p><script type="math/tex">\frac{2000000\; \text{MFlop/sec}}{1640\; \text{sec}} \simeq 1219.5 \;\text{MFlop}</script></p>
    </div>
</div>

  <hr />

  <h4 id="questions">Questions</h4>

  <p><strong>[A.q1.1]</strong> You have to run a program that performs 2000 TFlop, and your
core computes at speed 450 GFlop/sec. How long will the program run for in minutes?</p>

  <p><strong>[A.q1.2]</strong> A program that performs 3000 GFlop just ran in 1.5 minutes on a core. What is the
core speed in TFlop/sec?</p>

  <p><strong>[A.q1.3]</strong> On a given core, a program just ran in 14 seconds. By what factor should the core speed
increased if I want the program to run in 10 seconds?</p>

</div>
<div class="ui tab segment" data-tab="second">

  <h4 id="learning-objectives-1">Learning objectives:</h4>

  <ul>
    <li>
      <p>Understand the concept of time sharing</p>
    </li>
    <li>
      <p>Understand how time sharing impacts program execution times</p>
    </li>
  </ul>

  <hr />

  <h3 id="time-sharing">Time Sharing</h3>

  <p>As you know, you can execute multiple programs at once on your computer
(e.g., your Web browser and a text editor). This is called
multi-programming, something that Operating Systems have known how to 
do since the 1960’s.</p>

  <p>Consider multiple (non-interactive) programs that run <strong>on a single core</strong>.
In this case, the Operating System makes it so that the programs alternate
on the core: a program runs for a while, then another, then another, and so
on until we cycle back and repeat. This is called <em>time sharing</em>. The
process of going from one running program to another is called <em>context
switching</em>.  Hwo this is done is one of the core topics of all Operating System
textbooks.</p>

  <p>In these pedagogic modules we take a very high-level, ideal view: When
running <em>n</em> programs at the same time on one core, each of them 
proceeds at <em>1/n</em>-th of the core’s compute speed.</p>

  <p>For instance, if at time
0 I start two programs, each with work 5 GFlop on a single core with speed
1 GFlop/sec, both programs would complete at time 10.  Say now that the
second program has work of 10 GFlop. Then the first program will complete
at time 10, and the second program at time 15. During the first 10 seconds,
both program proceed at speed 0.5 GFlop/sec. At time 10 the first program
thus completes (because it’s performed all its work), at which point the
second program proceeds at full 1 GFlop/sec speed. Since the second program
still has 5 units of work to complete, it runs for another 5 seconds and 
completes at time 15.</p>

  <p>In practice, the programs in the above examples would complete later! This
is because in real systems the context switching overhead is non-zero and
because the programs would most likely compete for memory and caches (see Computer Architecture
and Operating Systems textbooks for all details). But the above ideal model will
be sufficient for our purposes.  In fact, we will almost always avoid time 
sharing altogether by never running two programs on a single core.</p>

  <hr />

  <h4 id="practice-questions-1">Practice Questions</h4>

  <p>Even though we will try to avoid time sharing, the reasoning for
computing how time sharing would impact program execution times is
important and applicable to other learning objectives (e.g., networking).
So here are a couple of practice questions:</p>

  <p><strong>[A.p2.1]</strong> At time 0 on a core with speed 2 TFlop/sec you start two programs. Program <em>A</em>’s work is
200 GFlop, and program <em>B</em>’s work is 220 GFlop. At what times do the programs complete?</p>

  <div class="ui accordion fluid">
  <div class="title">
    <i class="dropdown icon"></i>
    (click to see answer)
  </div>
  <div class="ui segment content">

      <p>In a first phase, both programs proceed at speed 1 TFLop/sec. Program <em>A</em> completes first at time:
   <script type="math/tex">T_{A} = \frac{0.2 \text{TFlop}}{1\; \text{TFlop/sec}} = 0.2\; \text{sec}\;.</script><br />
 At that point, program $B$ still has 20 GFlop left to compute, but it now proceeds at speed 2 TFlop/sec. 
  Therefore, it completes at time:<br />
   <script type="math/tex">T_{B} = T_{A} + \frac{0.02 \text{TFlop}}{2\; \text{TFlop/sec}} = 0.21 \; \text{sec}</script></p>

    </div>
</div>

  <p> </p>

  <p><strong>[A.p2.2]</strong> Two programs, each with work 800 TFlop, were started at the same time on a core and both
         completed simultaneously after one hour. What is the core’s speed in GFlop/sec?</p>
  <div class="ui accordion fluid">
  <div class=" title">
    <i class="dropdown icon"></i>
    (click to see answer)
  </div>
  <div class="ui segment content">

      <p><script type="math/tex">\text{speed} = 2 \times \frac{800000\; \text{GFlop}}{ 3600\; \text{sec}} \simeq 444.44 \;\text{GFlop/sec}</script></p>
    </div>
</div>

  <hr />

  <h4 id="questions-1">Questions</h4>

  <p><strong>[A.q2.1]</strong> Two programs are started at the same time on a core. These programs both have work
1 TFlop, and both complete after 220 seconds. What was the core speed in GFlop/sec?</p>

  <p><strong>[A.q2.2]</strong> Three programs, A, B, and C, were started at the same time on a core
 with speed 600 GFLop/sec. After 10 seconds A and C complete. Then, 2 seconds later, program B
completes. What is the work (in GFlop) of each of the three program?</p>

  <p><strong>[A.q2.3]</strong> A program, A, with work 4 TFlop is started on a core of speed 500 GFlop/sec. 5 seconds later
another program B, is started. Both programs finish at the same time. What is the work of B in TFlop?</p>

</div>
<div class="ui tab segment" data-tab="third">

  <h4 id="learning-objectives-2">Learning objectives:</h4>

  <ul>
    <li>
      <p>Understand the concept of Memory (RAM)</p>
    </li>
    <li>
      <p>Understand how the amount of available Memory limits program executions</p>
    </li>
  </ul>

  <hr />

  <h3 id="memory">Memory</h3>

  <p>When a program executes on a computer, it uses some of the computer’s
memory (a.k.a., Random Access Memory or RAM) to store its “address space”. The
address space consists of all the bytes of content that the program needs
to execute (the “code”, “data”, “stack”, “heap”, “page table”, etc.). You
can learn about details of the structure of address spaces 
in Operating Systems textbooks. In these pedagogic modules
we simply consider that a program needs some number of bytes of RAM to
execute.</p>

  <p>When not enough RAM is available (e.g., the program’s address space is too
big), the Operating System keeps part of the address space on disk and
shuffles content between RAM and disk as necessary. Albeit fascinating,
this comes with a significant performance hit. Our main focus in these
pedagogic modules is performance, and <em>we will only consider executing
a program if its entire address space fits in RAM</em>.</p>

  <p>For instance, consider a single-core computer with 4 GB of RAM. We have
three programs <em>A</em>, <em>B</em>, and <em>C</em>, with address spaces of 1 GB, 2 GB, and 3
GB, respectively.  In this case, we cannot run all three programs at the
same time, because 6 GB is larger than the available RAM. But we can run
program <em>A</em> and <em>C</em> together as they only require 3 GB of RAM.</p>

  <p>If you’ve been paying attention you may wonder why we’re even talking about
running programs at the same time since in the previous tab (“Time
Sharing”) we said we would almost never do it!  To find out, proceed to the
<a href="/wrench-pedagogic-modules/pedagogic_modules/multi_core_computing">Multicore Computing</a> module!</p>

</div>


</div>

        </div>
      </div>
    </div>
  </body>
</html>
