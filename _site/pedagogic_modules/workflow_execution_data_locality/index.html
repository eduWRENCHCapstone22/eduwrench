<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />

  <!-- Enable responsiveness on mobile devices-->
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1"
  />

  <!-- Open Graph protocol tags (when sharing this site on another site that uses Open Graph, a nice formatted thumbnail should appear because of these tags) -->
  <meta property="og:title" content="WRENCH Pedagogic Modules" />
  <meta property="og:description" content="WRENCH Pedagogic Modules" />
  <meta
    property="og:url"
    content="http://wrench-project.org/wrench-pedagogic-modules/"
  />
  <meta
    property="og:image"
    content="http://wrench-project.org/wrench-pedagogic-modules/public/img/misc/wrench_logo.png"
  />

  <!-- Google Analytics -->
  <script>
    (function(i, s, o, g, r, a, m) {
      i["GoogleAnalyticsObject"] = r;
      (i[r] =
        i[r] ||
        function() {
          (i[r].q = i[r].q || []).push(arguments);
        }),
        (i[r].l = 1 * new Date());
      (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m);
    })(
      window,
      document,
      "script",
      "https://www.google-analytics.com/analytics.js",
      "ga"
    );
    ga("create", "UA-18066333-6", "auto");
    ga("send", "pageview");
  </script>

  <title>
    
    F. Workflows and Data Locality &middot; WRENCH PEDAGOGIC MODULES
    
  </title>

  <!-- custom stylesheet -->
  <link rel="stylesheet" href="/wrench-pedagogic-modules/css/main.css">
  <link
    rel="canonical"
    href="http://localhost:4000/wrench-pedagogic-modules/pedagogic_modules/workflow_execution_data_locality/"
  />
  <link
    href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,700,800,600|Montserrat"
    rel="stylesheet"
    type="text/css"
  />
  <link
    href="https://fonts.googleapis.com/css?family=Muli:400,300"
    rel="stylesheet"
    type="text/css"
  />

  <!-- CSS -->

  <link rel="stylesheet" href="/wrench-pedagogic-modules/css/poole.css" />
  <link rel="stylesheet" href="/wrench-pedagogic-modules/css/lanyon.css" />
  <link rel="stylesheet" href="/wrench-pedagogic-modules/css/syntax.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">

  <!-- Bootstrap -->
  <link
    rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
    crossorigin="anonymous"
  />
  <script
    src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"
  ></script>
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"
  ></script>
  <script
    src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"
  ></script>
  <!-- Icons -->
  <link
    rel="apple-touch-icon-precomposed"
    sizes="144x144"
    href="/public/apple-touch-icon-144-precomposed.png"
  />
  <link rel="shortcut icon" href="/wrench-pedagogic-modules/public/favicon.ico" />

  <!-- RSS -->
  <link
    rel="alternate"
    type="application/rss+xml"
    title="RSS"
    href="/atom.xml"
  />

  <!-- JS -->
  

  <script
    type="text/javascript"
    src="/wrench-pedagogic-modules/public/scripts/figure_scaling.js"
  ></script>

  <!-- SEMANTIC -->
  <link
    rel="stylesheet"
    type="text/css"
    href="/wrench-pedagogic-modules/public/scripts/semantic/semantic.min.css"
  />

  <script src="/wrench-pedagogic-modules/public/scripts/jquery/jquery.min.js"></script>
  <script src="/wrench-pedagogic-modules/public/scripts/semantic/components/accordion.js"></script>
  <script src="/wrench-pedagogic-modules/public/scripts/semantic/components/popup.js"></script>
  <script src="/wrench-pedagogic-modules/public/scripts/semantic/components/transition.js"></script>
  <script src="/wrench-pedagogic-modules/public/scripts/semantic/components/tab.js"></script>

  <script language="javascript">
    $(document).ready(function() {
      $(".ui.accordion").accordion();
      $(".popable").popup({
        position: "right center"
      });
      $(".menu .item").tab();
      $(".paths.example .menu .item").tab({
        context: ".paths.example"
      });
    });
  </script>
</head>


  <body class="theme-base-09">
    <div class="fluid-container">
      <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>WRENCH Pedagogic Modules.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/wrench-pedagogic-modules/">Home</a>

    

    
    
      
        
          <a class="sidebar-nav-item" href=" /wrench-pedagogic-modules/pedagogic_modules/IO_lesson/">I. Input/Output Effects</a>
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href=" /wrench-pedagogic-modules/pedagogic_modules/multi_core_computing/">B. Multi-core Computing</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href=" /wrench-pedagogic-modules/pedagogic_modules/networking_fundamentals/">C. Networking Fundamentals</a>
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href=" /wrench-pedagogic-modules/pedagogic_modules/single_core_computing/">A. Single Core Computing</a>
        
      
    
      
        
          <a class="sidebar-nav-item active" href=" /wrench-pedagogic-modules/pedagogic_modules/workflow_execution_data_locality/">F. Workflows and Data Locality</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href=" /wrench-pedagogic-modules/pedagogic_modules/workflow_execution_fundamentals/">E. Workflow Execution Fundamentals</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href=" /wrench-pedagogic-modules/pedagogic_modules/workflow_execution_parallelism/">G. Workflows and Parallelism</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href=" /wrench-pedagogic-modules/pedagogic_modules/workflow_execution_resource_provisioning/">H. Workflows and Resource Provisioning</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href=" /wrench-pedagogic-modules/pedagogic_modules/workflow_fundamentals/">D. Workflow Fundamentals</a>
        
      
    

    
    <a class="sidebar-nav-item active" href=" /wrench-pedagogic-modules/glossary">Glossary</a>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2019. All rights reserved.
    </p>
  </div>
</div>
      <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
        content to avoid any CSS collisions with our real content. -->
        <div class="wrap">
          <div class="masthead">
            <div class="container">
              <label for="sidebar-checkbox" class="sidebar-toggle"></label>
              <nav class="navbar navbar-expand header-nav">
  <div class="iconBox py-3 mx-3">
    <a href="/wrench-pedagogic-modules/"><img src="/wrench-pedagogic-modules/assets/wrench_logo.png" alt="wrench_logo" class="iconImg"></a>
  </div>
  <ul>
    <li class="py-3"><a class="headerNav p-3" href="/wrench-pedagogic-modules/home">HOME</a></li>
    <li class="py-3">
      <div class="dropdown show btn-group">
        <a class="headerNav p-3 dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" href="/wrench-pedagogic-modules/courses">COURSES</a>
        <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
          
          
            
              
                <a class="dropdown-item " href="/wrench-pedagogic-modules/pedagogic_modules/IO_lesson/">I. Input/Output Effects</a>
              
            
          
            
              
            
          
            
              
                <a class="dropdown-item " href="/wrench-pedagogic-modules/pedagogic_modules/multi_core_computing/">B. Multi-core Computing</a>
              
            
          
            
              
                <a class="dropdown-item " href="/wrench-pedagogic-modules/pedagogic_modules/networking_fundamentals/">C. Networking Fundamentals</a>
              
            
          
            
              
            
          
            
              
                <a class="dropdown-item " href="/wrench-pedagogic-modules/pedagogic_modules/single_core_computing/">A. Single Core Computing</a>
              
            
          
            
              
                <a class="dropdown-item  active" href="/wrench-pedagogic-modules/pedagogic_modules/workflow_execution_data_locality/">F. Workflows and Data Locality</a>
              
            
          
            
              
                <a class="dropdown-item " href="/wrench-pedagogic-modules/pedagogic_modules/workflow_execution_fundamentals/">E. Workflow Execution Fundamentals</a>
              
            
          
            
              
                <a class="dropdown-item " href="/wrench-pedagogic-modules/pedagogic_modules/workflow_execution_parallelism/">G. Workflows and Parallelism</a>
              
            
          
            
              
                <a class="dropdown-item " href="/wrench-pedagogic-modules/pedagogic_modules/workflow_execution_resource_provisioning/">H. Workflows and Resource Provisioning</a>
              
            
          
            
              
                <a class="dropdown-item " href="/wrench-pedagogic-modules/pedagogic_modules/workflow_fundamentals/">D. Workflow Fundamentals</a>
              
            
          
        </div>
      </div>          
    </li>
    <li class="py-3"><a class="headerNav p-3" href="/wrench-pedagogic-modules/glossary">GLOSSARY</a></li>
    <li class="py-3">
        <div class="dropdown show btn-group">
          <a class="headerNav p-3 dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" href="/wrench-pedagogic-modules/setup">SETUP</a>
          <div class="dropdown-menu">
              <a class="dropdown-item" href="#">Software Requirement</a>
              <a class="dropdown-item" href="#">Introduction</a>
          </div>
        </div>
    </li>			
  </ul>
</nav>


            <h3 class="masthead-title">
              <a href="/wrench-pedagogic-modules/" title="Home">
                  WRENCH PEDAGOGIC MODULES
              </a>
              <small>Distributed Computing Courseware</small>
            </h3>
          </div>
        </div>
  
        <div class="container content">
          <h2 class="mx-auto">F. Workflows and Data Locality</h2>

<!-- include sidebar -->
<div>
    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>WRENCH Pedagogic Modules.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/wrench-pedagogic-modules/">Home</a>

    

    
    
      
        
          <a class="sidebar-nav-item" href=" /wrench-pedagogic-modules/pedagogic_modules/IO_lesson/">I. Input/Output Effects</a>
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href=" /wrench-pedagogic-modules/pedagogic_modules/multi_core_computing/">B. Multi-core Computing</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href=" /wrench-pedagogic-modules/pedagogic_modules/networking_fundamentals/">C. Networking Fundamentals</a>
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href=" /wrench-pedagogic-modules/pedagogic_modules/single_core_computing/">A. Single Core Computing</a>
        
      
    
      
        
          <a class="sidebar-nav-item active" href=" /wrench-pedagogic-modules/pedagogic_modules/workflow_execution_data_locality/">F. Workflows and Data Locality</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href=" /wrench-pedagogic-modules/pedagogic_modules/workflow_execution_fundamentals/">E. Workflow Execution Fundamentals</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href=" /wrench-pedagogic-modules/pedagogic_modules/workflow_execution_parallelism/">G. Workflows and Parallelism</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href=" /wrench-pedagogic-modules/pedagogic_modules/workflow_execution_resource_provisioning/">H. Workflows and Resource Provisioning</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href=" /wrench-pedagogic-modules/pedagogic_modules/workflow_fundamentals/">D. Workflow Fundamentals</a>
        
      
    

    
    <a class="sidebar-nav-item active" href=" /wrench-pedagogic-modules/glossary">Glossary</a>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2019. All rights reserved.
    </p>
  </div>
</div>
</div>
<div>
    <ol>
  <li><a href="#learning-objectives">Learning objectives</a></li>
  <li><a href="#overview">Overview</a></li>
  <li><a href="#activity">Activity</a></li>
  <li><a href="#conclusion">Conclusion</a></li>
</ol>

<h4 id="learning-objectives">Learning Objectives</h4>

<ul>
  <li>Gain exposure to the concept of data locality.</li>
  <li>Be able to quantify the impact of data locality on workflow execution.</li>
</ul>

<h4 id="workflow-and-platform-scenario">Workflow and Platform Scenario</h4>

<p>In this activity, we study the execution of the workflow depicted in Figure 1 below.</p>

<object class="figure" type="image/svg+xml" data="/wrench-pedagogic-modules/public/img/workflow_execution_data_locality/workflow.svg">Workflow</object>

<p>We wish to execute this workflow on the cyberinfrastructure depicted in
Figure 2 below (which is the same as that used in the previous module). To
summarize, a Compute Service (CS) at host <code class="highlighter-rouge">hpc.edu</code> has a single core that
can execute workflow tasks (but only one at a time). Workflow files are
stored on the Storage Service (SS) at host <code class="highlighter-rouge">storage_db.edu</code> that handles
read and write requests.</p>

<object class="figure" type="image/svg+xml" data="/wrench-pedagogic-modules/public/img/workflow_execution_data_locality/cyber_infrastructure.svg">Cyberinfrastructure</object>

<p>Like in the previous module, the WMS executes tasks as soon as they are
ready, so that each task runs on the CS and reads/writes all files on the
SS. Whenever multiple tasks are ready at the same time, 
as will be the case after <em>task0</em> has completed, 
the WMS arbitrarily runs them in lexicographical order (i.e., 
<em>task1</em>, then <em>task2</em>, and then <em>task3</em>).</p>

<p>So that you can gain hands-on experience, use 
the simulation Web application
(see <a href="/wrench-pedagogic-modules/pedagogic_modules/simulation_instructions/index/" target="_blank">instructions</a>),
selecting <code class="highlighter-rouge">Workflow Execution: Data Locality</code> from its menu.</p>

<p>In the simulation app, for now, just click on the “Run
Simulation” button, without changing the content of the text box or clicking
any radio button. The Web app displays textual and
visual simulation output.</p>

<p><strong>Based on this output, answer the following questions:</strong></p>

<p><strong>[F.q1.1]</strong> Is the workflow execution I/O-intensive or compute-intensive?</p>

<p><strong>[F.q1.2]</strong> If the link bandwidth between <code class="highlighter-rouge">storage_db.edu</code> and <code class="highlighter-rouge">hpc.edu</code> were
         doubled, what fraction of <em>task4</em>’s execution time would be spent doing I/O? (answer this without re-running the simulation)</p>

<p><strong>[F.q1.3]</strong> Double the platform link bandwidth (set it to 20 MB/sec) using the simulation app and re-run the simulation. Is your expectation in q2 confirmed?</p>

<p><strong>[F.q1.4]</strong> Using analysis (i.e., a simple equation), determine the link bandwidth that would be necessary for the workflow to run 2x faster than with the original 10 MB/sec bandwidth?</p>

<p><strong>[F.q1.5]</strong> Using the simulator, report on the accuracy of the result from your analysis in the previous question.</p>

<h4 id="data-locality">Data Locality</h4>

<p>In the workflow execution above, the CS reads and writes files from and to
the SS on <code class="highlighter-rouge">storage_db.edu</code>, which causes a lot of I/O overhead. This
overhead can be vastly reduced if the storage service were located on the
same host as the CS (which you can think of as a disk on which data can be
cached at the SS). The idea would thus be to data <em>closer</em> to where the
computation is taking place, or improving <strong>data locality</strong>.</p>

<p>Figure 3 below shows on the left-hand side a depiction of the new
cyberinfrastructure, on which a second SS is started at host <code class="highlighter-rouge">hpc.edu</code>.</p>

<object class="figure" type="image/svg+xml" data="/wrench-pedagogic-modules/public/img/workflow_execution_data_locality/scenario_2.svg">Scenario 2</object>

<p>We have enhanced the WMS implementation so that it  can take advantage of
the new SS for storing all the “intermediate” workflow files, i.e., those
files shown in red on the right-hand side of Figure 3 above. The only files
that need to be transferred from/to the SS on <code class="highlighter-rouge">storage_db.edu</code> will thus be
initial <em>task0::0.in</em> file and the final output file, <em>task4::0.out</em>.</p>

<p>The above enhancement can be activated by selecting the radio button that
says <em>Storage Service on storage_db.edu and hpc.edu</em>. Leaving the bandwidth
at 10 MB/sec, select the radio button and click the “Run Simulation”
button.</p>

<p><strong>Answer the following questions based on the simulation output</strong>:</p>

<p><strong>[F.q1.6]</strong> What fraction of the workflow execution is spent doing I/O?</p>

<p><strong>[F.q1.7]</strong> Compared to the workflow execution time when there is a single SS, how much faster is the workflow execution now?</p>

<hr />

</div>

        </div>
      </div>
    </div>
  </body>
</html>
